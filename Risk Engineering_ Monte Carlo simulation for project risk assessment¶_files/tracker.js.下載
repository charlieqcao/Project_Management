"use strict";(function(){'use strict';var _this=this;var queue=window.fathom.q||[];var config={'siteId':'','trackerUrl':''};var commands={"set":set,"trackPageview":trackPageview,"setTrackerUrl":setTrackerUrl};function set(key,value){config[key]=value}
function setTrackerUrl(value){return set("trackerUrl",value)}
function stringifyObject(obj){var keys=Object.keys(obj);return'?'+keys.map(function(k){return encodeURIComponent(k)+'='+encodeURIComponent(obj[k])}).join('&')}
function randomString(n){var s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";return Array(n).join().split(',').map(function(){return s.charAt(Math.floor(Math.random()*s.length))}).join('')}
function getCookie(name){var cookies=document.cookie?document.cookie.split('; '):[];for(var i=0;i<cookies.length;i++){var parts=cookies[i].split('=');if(decodeURIComponent(parts[0])!==name){continue}
var cookie=parts.slice(1).join('=');return decodeURIComponent(cookie)}
return''}
function setCookie(name,data,args){name=encodeURIComponent(name);data=encodeURIComponent(String(data));var str=name+'='+data;if(args.path){str+=';path='+args.path}
if(args.expires){str+=';expires='+args.expires.toUTCString()}
document.cookie=str}
function newVisitorData(){return{isNewVisitor:!0,isNewSession:!0,pagesViewed:[],previousPageviewId:'',lastSeen:+new Date()}}
function getData(){var thirtyMinsAgo=new Date();thirtyMinsAgo.setMinutes(thirtyMinsAgo.getMinutes()-30);var data=getCookie('_fathom');if(!data){return newVisitorData()}
try{data=JSON.parse(data)}catch(e){console.error(e);return newVisitorData()}
if(data.lastSeen<+thirtyMinsAgo){data.isNewSession=!0}
return data}
function findTrackerUrl(){var el=document.getElementById('fathom-script');return el?el.src.replace('tracker.js','collect'):''}
function trackPageview(vars){vars=vars||{};if('doNotTrack' in navigator&&navigator.doNotTrack==="1"){return}
if('visibilityState' in document&&document.visibilityState==='prerender'){return}
if(document.body===null){document.addEventListener("DOMContentLoaded",function(){trackPageview(vars)});return}
var req=window.location;if(req.host===''){return}
var canonical=document.querySelector('link[rel="canonical"][href]');if(canonical){var a=document.createElement('a');a.href=canonical.href;req=a}
var path=vars.path||req.pathname+req.search;if(!path){path='/'}
var hostname=vars.hostname||req.protocol+"//"+req.hostname;var referrer=vars.referrer||'';if(document.referrer.indexOf(hostname)<0){referrer=document.referrer}
var data=getData();var d={id:randomString(20),pid:data.previousPageviewId||'',p:path,h:hostname,r:referrer,u:data.pagesViewed.indexOf(path)==-1?1:0,nv:data.isNewVisitor?1:0,ns:data.isNewSession?1:0,sid:config.siteId};var url=config.trackerUrl||findTrackerUrl();var img=document.createElement('img');img.setAttribute('alt','');img.setAttribute('aria-hidden','true');img.src=url+stringifyObject(d);img.addEventListener('load',function(){var now=new Date();var midnight=new Date(now.getFullYear(),now.getMonth(),now.getDate(),24,0,0);if(data.pagesViewed.indexOf(path)==-1){data.pagesViewed.push(path)}
data.previousPageviewId=d.id;data.isNewVisitor=!1;data.isNewSession=!1;data.lastSeen=+new Date();setCookie('_fathom',JSON.stringify(data),{expires:midnight,path:'/'});document.body.removeChild(img)});window.setTimeout(function(){if(!img.parentNode){return}
img.src='';document.body.removeChild(img)},1000);document.body.appendChild(img)}
window.fathom=function(){var args=[].slice.call(arguments);var c=args.shift();commands[c].apply(this,args)};queue.forEach(function(i){return fathom.apply(_this,i)})})()
